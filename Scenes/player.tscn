[gd_scene load_steps=20 format=3 uid="uid://bja82w2ernttj"]

[ext_resource type="Script" uid="uid://bikngahb45rul" path="res://Scripts/player.gd" id="1_6t5aa"]
[ext_resource type="Script" uid="uid://bvf78xmw0liad" path="res://Scripts/player_body.gd" id="2_fkybt"]
[ext_resource type="PackedScene" uid="uid://bqlrbogl1wo8y" path="res://Scenes/player_movement.tscn" id="2_vgqql"]
[ext_resource type="Texture2D" uid="uid://djn1qkjsjm2cp" path="res://Assets/PNG/BaseBody-Sheet-Sheet.png" id="3_6t5aa"]
[ext_resource type="FontFile" uid="uid://0vmi48yphey3" path="res://Assets/Fonts/PixelAE-Bold.ttf" id="5_fkybt"]
[ext_resource type="Script" uid="uid://ct7iom4vpnfc4" path="res://Scripts/player_dialog_popup.gd" id="6_x3wgy"]
[ext_resource type="Theme" uid="uid://hpso4mu8e4b7" path="res://Resources/Themes/default.tres" id="7_3smsa"]
[ext_resource type="PackedScene" uid="uid://bfxp1tp6wevhl" path="res://Scenes/point_light.tscn" id="8_8erm5"]
[ext_resource type="Texture2D" uid="uid://ro4qxlwkrgwb" path="res://Assets/2d_lights_and_shadows_neutral_point_light.webp" id="8_gymyn"]
[ext_resource type="PackedScene" uid="uid://djivhnyw6vgwr" path="res://Scenes/Rooms/hud.tscn" id="9_f1ek2"]
[ext_resource type="Script" uid="uid://75y01qcsxxql" path="res://Scripts/hud.gd" id="10_tx1dd"]

[sub_resource type="LabelSettings" id="LabelSettings_x3wgy"]
font = ExtResource("5_fkybt")
font_size = 10
outline_size = 4
outline_color = Color(0.01, 0.01, 0.01, 0.9098039)
shadow_size = 0

[sub_resource type="AtlasTexture" id="AtlasTexture_vgqql"]
atlas = ExtResource("3_6t5aa")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_fkybt"]
atlas = ExtResource("3_6t5aa")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3wgy"]
atlas = ExtResource("3_6t5aa")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3smsa"]
atlas = ExtResource("3_6t5aa")
region = Rect2(48, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_8erm5"]
animations = [{
"frames": [],
"loop": true,
"name": &"Action",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vgqql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fkybt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3wgy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3smsa")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"Moving",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_6t5aa"]
radius = 28.160255

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_vgqql"]
polygon = PackedVector2Array(-2, -6, 2, -6, 2, -5, 3, -5, 3, -4, 4, -4, 4, -3, 5, -3, 5, 0, 4, 0, 4, 1, 3, 1, 3, 2, 2, 6, 3, 9, -3, 9, -2, 6, -2, 6, -3, 2, -3, 1, -4, 1, -4, 0, -5, 0, -5, -3, -4, -3, -4, -4, -3, -4, -3, -5, -2, -5)

[node name="Player" type="Node2D"]
script = ExtResource("1_6t5aa")

[node name="PlayerBody" type="CharacterBody2D" parent="." groups=["Player"]]
disable_mode = 2
collision_mask = 102
script = ExtResource("2_fkybt")

[node name="PlayerDialog" type="Label" parent="PlayerBody"]
light_mask = 16
z_index = 100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -12.0
offset_top = -23.0
offset_right = 11.0
offset_bottom = -8.0
grow_horizontal = 2
grow_vertical = 2
text = "Test"
label_settings = SubResource("LabelSettings_x3wgy")
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("6_x3wgy")
min_width_pixels = 20
min_height_pixels = 10

[node name="Timer" type="Timer" parent="PlayerBody/PlayerDialog"]
unique_name_in_owner = true

[node name="PanelContainer" type="PanelContainer" parent="PlayerBody/PlayerDialog"]
unique_name_in_owner = true
light_mask = 16
z_index = -1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("7_3smsa")

[node name="PlayerController" parent="PlayerBody" instance=ExtResource("2_vgqql")]
unique_name_in_owner = true

[node name="Sprite2D" type="AnimatedSprite2D" parent="PlayerBody"]
position = Vector2(0, 1)
sprite_frames = SubResource("SpriteFrames_8erm5")
animation = &"Idle"
autoplay = "Idle"

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="PlayerBody"]
position = Vector2(2, 3)
polygon = PackedVector2Array(-7, -6, -6, -9, 2, -9, 3, -6, 3, 6, -7, 6)

[node name="ActionArea" type="Area2D" parent="PlayerBody"]
unique_name_in_owner = true
visible = false
collision_layer = 0
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerBody/ActionArea"]
shape = SubResource("CircleShape2D_6t5aa")
debug_color = Color(0.662523, 0.40550858, 0.812828, 0.41960785)

[node name="LightOccluder2D" type="LightOccluder2D" parent="PlayerBody"]
occluder = SubResource("OccluderPolygon2D_vgqql")

[node name="PointLight" parent="PlayerBody" instance=ExtResource("8_8erm5")]
color = Color(0.75, 0.71999997, 0.71999997, 0.5372549)
energy = 1.0
shadow_enabled = false
texture_scale = 0.75

[node name="Camera2D" type="Camera2D" parent="PlayerBody"]
zoom = Vector2(1.75, 1.75)

[node name="DialogLight" type="PointLight2D" parent="PlayerBody"]
z_index = 100
position = Vector2(1.4999847, -29.499998)
scale = Vector2(1.8789061, 0.85546875)
energy = 1.1
range_item_cull_mask = 16
texture = ExtResource("8_gymyn")

[node name="HUD" parent="." instance=ExtResource("9_f1ek2")]
layer = 20
follow_viewport_enabled = true
follow_viewport_scale = 4.0
script = ExtResource("10_tx1dd")
